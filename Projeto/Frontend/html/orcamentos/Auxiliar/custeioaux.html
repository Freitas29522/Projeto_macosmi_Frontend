<!DOCTYPE html>
<html lang="pt">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=5.0"
    />
    <title>Orcamento Custeio</title>

    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- DevExpress -->
    <link
      rel="stylesheet"
      href="https://cdn3.devexpress.com/jslib/24.2.6/css/dx.material.blue.light.css"
    />
    <script src="https://cdn3.devexpress.com/jslib/24.2.6/js/dx.all.js"></script>

    <!-- Web API Store -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/devextreme-aspnet-data/5.0.0/dx.aspnet.data.min.js"></script>

    <!--ESTILO REVER BEM-->
    <script src="https://cdn3.devexpress.com/jslib/24.2.6/js/localization/dx.messages.pt.js"></script>
    <script src="https://cdn3.devexpress.com/jslib/24.2.6/js/localization/dx.messages.en.js"></script>
    <script src="https://cdn3.devexpress.com/jslib/24.2.6/js/localization/dx.messages.fr.js"></script>

    <!-- Configuração DevExpress -->
    <script src="../../../devexpress/devexpress.js"></script>
<script src="/Projeto/Frontend/js/config.js" defer></script>
<script src="/Projeto/Frontend/js/security.js" defer></script>
    <script src="custeioaux.js" defer></script>


    <!--LAYOUT-->
    <!-- Ícones -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />

    <!-- Plugins e bibliotecas -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/apexcharts@3.37.1/dist/apexcharts.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/jsvectormap@1.5.3/dist/css/jsvectormap.min.css"
    />

    <!-- Estilo principal -->
    <link rel="stylesheet" href="../../../css/adminlte.css" />

    <style>
      .editavel-card {
        background-color: #f0f8ff; /* Azul muito claro */
        /*  border-left: 5px solid #0d6efd; */ /* Azul Bootstrap */
      }
      .editavel-card .card-header,
      .editavel-card .card-body {
        background-color: inherit;
      }
      /* Faz o grid "transparente" para se ver o azul do card */
      .editavel-card .dx-datagrid-headers,
      .editavel-card .dx-datagrid-rowsview,
      .editavel-card .dx-datagrid-total-footer,
      .editavel-card .dx-datagrid {
        background-color: transparent;
      }
      /* Destacar cells editáveis nas grids */
      .dx-datagrid .dx-editor-cell {
        background-color: #e8f2ff !important;
      }
    </style>
  </head>

  <body class="layout-fixed sidebar-expand-lg bg-body-tertiary">
    <div class="app-wrapper">
      <div id="sidebar-container"></div>
      <div id="header-container"></div>

      <main class="app-main m-xxl-2">
  <div class="container-fluid py-3">

    <!-- toolbar -->
    <div class="d-flex align-items-center gap-2 mb-3">
      <label for="anoInput" class="fw-semibold">Ano:</label>
      <input type="number" id="anoInput" class="form-control form-control-sm" style="width:120px" min="2000" max="2100">
      <button id="btnCarregar" class="btn btn-outline-secondary btn-sm">Carregar</button>

      <div class="ms-auto d-flex gap-2">
        <button id="btnCriar"   class="btn btn-primary btn-sm"><i class="bi bi-plus-circle me-1"></i>Criar ano</button>
        <button id="btnGuardar" class="btn btn-success btn-sm" disabled><i class="bi bi-check2-circle me-1"></i>Guardar</button>
      </div>
    </div>

    <div class="row g-4 align-items-start cards-grid">
    <!-- 1ª linha -->
    <div class="col-12 col-xl-7">
      <div class="card h-100 shadow-sm editavel-card">
        <div class="card-header fw-semibold text-start">
          Valores para Atualização das Fichas Técnicas/Custeio dos Artigos
        </div>
        <div class="card-body">
          <div id="formAtualizacao"></div>
        </div>
      </div>
    </div>

    <div class="col-12 col-xl-5">
      <div class="card h-100 shadow-sm">
        <div class="card-header fw-semibold text-start">
          Distribuição dos Gastos por Natureza
        </div>
        <div class="card-body">
          <div id="pieChart" style="width: 100%; height: 300px"></div>
        </div>
      </div>
    </div>

    <!-- 2ª linha -->
    <div class="col-12 col-xl-7">
      <div class="card h-100 shadow-sm editavel-card">
        <div class="card-header fw-semibold text-start">
          Cálculo dos Gastos por Natureza
        </div>
        <div class="card-body">
          <div id="formNatureza"></div>
        </div>
      </div>
    </div>

    <div class="col-12 col-xl-5">
      <div class="card h-100 shadow-sm editavel-card">
        <div class="card-header fw-semibold text-start">
          Taxa de Gastos Financeiros com pagamento dos clientes
        </div>
        <div class="card-body">
          <div id="formFinanceiros"></div>
        </div>
      </div>
    </div>
  </div>

  </div>
</main>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../../js/adminlte.js"></script>
    <script src="../../../js/layout.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- <script src="../../../js/traducoes.js"></script> -->
  </body>
</html>
